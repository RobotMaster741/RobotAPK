<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-button class="btn-back" (click)="volverPaginaAnterior()"><ion-icon
        name="arrow-back-outline"></ion-icon></ion-button>

    <ng-container *ngIf="isLoggedIn">
      <ion-button class="btn-logout" (click)="mostrarConfirmacionCerrarSesion()">
        <ion-icon name="log-in-outline"></ion-icon>
      </ion-button>
    </ng-container>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div class="logo"></div>
  <ng-container *ngIf="isLoggedIn; else showLoginOptions">

    <ion-card class="contenedor-perfil">
      <ion-card-content class="contenido">
        <ion-card-header>
          <ion-card-title>Datos Personales<ion-icon name="person-sharp"></ion-icon></ion-card-title>
        </ion-card-header>
        <ion-list class="datos-perfil">
          <ion-item>
            <ion-label class="title-label" position="stacked">Nombre</ion-label>
            <ion-input [(ngModel)]="userData.names" disabled></ion-input>
          </ion-item>

          <ion-item>
            <ion-label class="title-label" position="stacked">Correo Electrónico</ion-label>
            <ion-input [(ngModel)]="userData.email" [disabled]="!editMode"
              (ngModelChange)="onCampoCambiado()"></ion-input>
          </ion-item>

          <ion-item>
            <ion-label class="title-label" position="stacked">Número de Teléfono</ion-label>
            <ion-input [(ngModel)]="userData.telefono" [disabled]="!editMode"
              (ngModelChange)="onCampoCambiado()"></ion-input>
          </ion-item>

          <ion-item>
            <ion-label class="title-label" position="stacked">Edad</ion-label>
            <ion-input [(ngModel)]="userData.edad" [disabled]="!editMode"
              (ngModelChange)="onCampoCambiado()"></ion-input>
          </ion-item>

          <div class="container-btn-edit">
            <ion-button class="btn-change" (click)="activarEdicion()"
              *ngIf="!editMode && !guardandoCambios && !cambiosRealizados">Editar Perfil <ion-icon
                name="create-outline"></ion-icon></ion-button>

            <ion-button class="btn-change guardar" (click)="guardarCambios()"
              *ngIf="editMode && cambiosRealizados">Guardar</ion-button>

            <ion-button class="btn-change cancelar" (click)="cancelarEdicion()"
              *ngIf="editMode || guardandoCambios">Cancelar</ion-button>
          </div>

          <ion-title class="titulo">Quieres agregar productos?</ion-title>
          <ion-button class="btn-productos" (click)="agregarProductos()">Añadir Productos?</ion-button>

        </ion-list>
      </ion-card-content>
    </ion-card>
  </ng-container>
  <ng-template #showLoginOptions>
    <ion-card class="contenedor-login">
      <ion-card-content class="contenedor-logreg">
        <ion-card-title>Regístrate o Inicia Sesión para observar tu perfil</ion-card-title>
        <ion-list class="contenedor-opt">
          <ion-title class="titulo">¿No tienes cuenta?</ion-title>
          <ion-button class="btn-login" (click)="irARegistro()">Regístrate</ion-button>

          <ion-title class="titulo">¿Ya tienes cuenta?</ion-title>
          <ion-button class="btn-login" (click)="irAIniciarSesion()">Inicia Sesión</ion-button>
        </ion-list>
      </ion-card-content>
    </ion-card>
  </ng-template>
</ion-content>

<div class="contenedor-nav" #MainNavigation>
  <ion-buttons class="contenedor-home">
    <ion-button (click)="home()">
      <ion-icon name="home-outline"></ion-icon>
    </ion-button>
  </ion-buttons>
</div>